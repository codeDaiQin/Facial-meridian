<script>
  Promise.prototype.myAll = (arr) => {
    return new Promise((resolve, reject) => {
      if (!Array.isArray(arr)) throw new TypeError('aguments must be a array')
      let success = 0
      let result = []
      for (let i = 0; i < arr.length; i++) {
        Promise.resolve(arr[i]).then(
          (res) => {
            success++
            result[i] = res
            if (success === arr.length) {
              resolve(result)
            }
          },
          (error) => reject(error)
        )
      }
    })
  }
</script>
